@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&family=Outfit:wght@400;500;600;700;800;900&display=swap');

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

/* ═══════════════════════════════
   DARK THEME — deep navy luxury
═══════════════════════════════ */
:root, [data-theme="dark"] {
  --bg:          #060a12;
  --bg-1:        #0b1120;
  --bg-2:        #101828;
  --bg-3:        #1a2540;
  --surface:     #111c30;
  --surface-2:   #172035;
  --text-100:    #eef2ff;
  --text-200:    #a8b8d8;
  --text-300:    #5a6e90;
  --text-400:    #2e3d58;
  --accent:      #00e5a0;
  --accent-dim:  rgba(0,229,160,0.12);
  --accent-glow: rgba(0,229,160,0.25);
  --blue:        #4d8ef8;
  --blue-dim:    rgba(77,142,248,0.12);
  --purple:      #b57cf8;
  --purple-dim:  rgba(181,124,248,0.12);
  --red:         #ff6b6b;
  --red-dim:     rgba(255,107,107,0.12);
  --amber:       #ffb547;
  --amber-dim:   rgba(255,181,71,0.12);
  --border:      rgba(255,255,255,0.06);
  --border-2:    rgba(255,255,255,0.11);
  --shadow-sm:   0 2px 8px rgba(0,0,0,0.4);
  --shadow-md:   0 8px 28px rgba(0,0,0,0.55);
  --shadow-lg:   0 20px 60px rgba(0,0,0,0.7);
  --r-sm: 10px; --r-md: 16px; --r-lg: 22px; --r-xl: 28px;
  --font-display: 'Outfit', sans-serif;
  --font-body:    'Plus Jakarta Sans', sans-serif;
  --toggle-track: #1a2540;
  --toggle-shadow: 0 0 20px rgba(0,229,160,0.4);
}

/* ═══════════════════════════════
   LIGHT THEME — warm ivory
═══════════════════════════════ */
[data-theme="light"] {
  --bg:          #f5f0e8;
  --bg-1:        #ede8df;
  --bg-2:        #ffffff;
  --bg-3:        #e8e2d8;
  --surface:     #ffffff;
  --surface-2:   #faf8f4;
  --text-100:    #12192b;
  --text-200:    #3d4e6a;
  --text-300:    #7a8faa;
  --text-400:    #b0bece;
  --accent:      #00a86b;
  --accent-dim:  rgba(0,168,107,0.1);
  --accent-glow: rgba(0,168,107,0.2);
  --blue:        #2563eb;
  --blue-dim:    rgba(37,99,235,0.09);
  --purple:      #7c3aed;
  --purple-dim:  rgba(124,58,237,0.09);
  --red:         #dc2626;
  --red-dim:     rgba(220,38,38,0.09);
  --amber:       #d97706;
  --amber-dim:   rgba(217,119,6,0.09);
  --border:      rgba(0,0,0,0.07);
  --border-2:    rgba(0,0,0,0.13);
  --shadow-sm:   0 2px 8px rgba(18,25,43,0.08);
  --shadow-md:   0 8px 28px rgba(18,25,43,0.1);
  --shadow-lg:   0 20px 60px rgba(18,25,43,0.14);
  --toggle-track: #e8e2d8;
  --toggle-shadow: 0 0 20px rgba(0,168,107,0.35);
}

/* ═══════════════════════════════
   BASE
═══════════════════════════════ */
html { scroll-behavior: smooth; }

body {
  font-family: var(--font-body);
  background: var(--bg);
  color: var(--text-100);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background 0.4s ease, color 0.4s ease;
  line-height: 1.6;
}

h1,h2,h3,h4,h5,h6 { font-family: var(--font-display); line-height: 1.2; }

a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--bg-3); border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-300); }

/* ═══════════════════════════════
   ANIMATED THEME TOGGLE
═══════════════════════════════ */
.theme-toggle-btn {
  position: relative;
  width: 58px;
  height: 30px;
  cursor: pointer;
  flex-shrink: 0;
}
.theme-toggle-btn input { opacity: 0; width: 0; height: 0; position: absolute; }

.toggle-track {
  position: absolute; inset: 0;
  background: var(--toggle-track);
  border-radius: 99px;
  border: 1.5px solid var(--border-2);
  transition: background 0.4s ease, border-color 0.4s ease;
  overflow: hidden;
}

/* stars in dark, rays in light */
.toggle-track::before {
  content: '✦ ✦ ✦';
  position: absolute; left: 7px; top: 50%;
  transform: translateY(-50%);
  font-size: 5px; letter-spacing: 2px;
  color: var(--text-300);
  transition: opacity 0.3s;
  line-height: 1;
}
[data-theme="light"] .toggle-track::before { opacity: 0; }

.toggle-thumb {
  position: absolute;
  top: 3px; left: 3px;
  width: 22px; height: 22px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--blue));
  box-shadow: var(--toggle-shadow);
  transition: transform 0.45s cubic-bezier(0.34, 1.56, 0.64, 1),
              background 0.4s ease,
              box-shadow 0.4s ease;
  display: flex; align-items: center; justify-content: center;
  font-size: 12px;
  z-index: 1;
}
[data-theme="light"] .toggle-thumb {
  transform: translateX(28px);
  background: linear-gradient(135deg, #fbbf24, #f97316);
  box-shadow: 0 0 20px rgba(251,191,36,0.45);
}
.theme-toggle-btn:hover .toggle-thumb {
  box-shadow: var(--toggle-shadow), 0 0 0 6px var(--accent-dim);
}

/* ═══════════════════════════════
   CARDS & SURFACES
═══════════════════════════════ */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  transition: background 0.4s, border-color 0.2s, transform 0.2s, box-shadow 0.2s;
}
.card:hover { border-color: var(--border-2); }
.card-hover:hover { transform: translateY(-3px); box-shadow: var(--shadow-md); }

.card-p { padding: 24px; }
.card-p-sm { padding: 18px; }
.card-p-lg { padding: 32px; }

/* stat cards */
.stat-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 22px;
  transition: all 0.25s ease;
  position: relative;
  overflow: hidden;
}
.stat-card::after {
  content: '';
  position: absolute; top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--accent), var(--blue));
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.3s ease;
}
.stat-card:hover::after { transform: scaleX(1); }
.stat-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-md); border-color: var(--border-2); }

/* ═══════════════════════════════
   BUTTONS
═══════════════════════════════ */
.btn {
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  padding: 10px 20px; border-radius: var(--r-sm);
  font-family: var(--font-body); font-size: 14px; font-weight: 600;
  cursor: pointer; border: none; transition: all 0.2s ease;
  white-space: nowrap; text-decoration: none;
}
.btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; }

.btn-primary {
  background: linear-gradient(135deg, var(--accent), var(--blue));
  color: #fff;
  box-shadow: 0 4px 14px var(--accent-glow);
}
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px var(--accent-glow); filter: brightness(1.05); }
.btn-primary:active { transform: translateY(0); }

.btn-ghost {
  background: var(--bg-3);
  color: var(--text-200);
  border: 1px solid var(--border);
}
.btn-ghost:hover { background: var(--bg-2); color: var(--text-100); border-color: var(--border-2); }

.btn-danger {
  background: var(--red-dim);
  color: var(--red);
  border: 1px solid transparent;
}
.btn-danger:hover { background: var(--red); color: white; }

.btn-sm { padding: 7px 14px; font-size: 13px; }
.btn-lg { padding: 14px 28px; font-size: 15px; }
.btn-full { width: 100%; }

/* icon buttons */
.ibtn {
  width: 32px; height: 32px;
  border-radius: var(--r-sm);
  background: var(--bg-3); border: 1px solid var(--border);
  color: var(--text-300); cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.15s; flex-shrink: 0;
}
.ibtn:hover { color: var(--accent); border-color: var(--accent); background: var(--accent-dim); }
.ibtn.del:hover { color: var(--red); border-color: var(--red); background: var(--red-dim); }

/* ═══════════════════════════════
   FORMS
═══════════════════════════════ */
.form-group { margin-bottom: 16px; }
.form-label {
  display: block;
  font-size: 11px; font-weight: 700;
  color: var(--text-300); margin-bottom: 6px;
  text-transform: uppercase; letter-spacing: 0.7px;
  font-family: var(--font-display);
}
.form-input, .form-select, .form-textarea {
  width: 100%;
  background: var(--bg-1);
  border: 1.5px solid var(--border);
  color: var(--text-100);
  padding: 11px 14px;
  border-radius: var(--r-sm);
  font-size: 14px;
  font-family: var(--font-body);
  transition: border-color 0.2s, box-shadow 0.2s, background 0.4s;
  outline: none;
}
.form-input:focus, .form-select:focus, .form-textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-dim);
  background: var(--bg-2);
}
.form-input::placeholder { color: var(--text-400); }
.form-select option { background: var(--bg-2); color: var(--text-100); }

.input-wrap { position: relative; }
.input-icon-l { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-300); pointer-events: none; }
.input-icon-r { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--text-300); cursor: pointer; padding: 4px; border-radius: 4px; transition: color 0.15s; }
.input-icon-r:hover { color: var(--text-100); }
.has-icon-l { padding-left: 38px !important; }
.has-icon-r { padding-right: 38px !important; }

/* ═══════════════════════════════
   BADGES
═══════════════════════════════ */
.badge {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 3px 10px; border-radius: 99px;
  font-size: 11px; font-weight: 700;
  font-family: var(--font-display); letter-spacing: 0.2px;
}
.badge-green  { background: var(--accent-dim); color: var(--accent); }
.badge-blue   { background: var(--blue-dim);   color: var(--blue); }
.badge-purple { background: var(--purple-dim); color: var(--purple); }
.badge-red    { background: var(--red-dim);    color: var(--red); }
.badge-amber  { background: var(--amber-dim);  color: var(--amber); }

/* ═══════════════════════════════
   PROGRESS
═══════════════════════════════ */
.progress { height: 7px; background: var(--bg-3); border-radius: 99px; overflow: hidden; }
.progress-bar {
  height: 100%; border-radius: 99px;
  background: linear-gradient(90deg, var(--accent), var(--blue));
  transition: width 0.7s cubic-bezier(0.4,0,0.2,1);
}
.progress-bar.danger { background: linear-gradient(90deg, var(--amber), var(--red)); }

/* ═══════════════════════════════
   MODAL
═══════════════════════════════ */
.modal-backdrop {
  position: fixed; inset: 0;
  background: rgba(4,8,18,0.7);
  backdrop-filter: blur(6px);
  z-index: 1000;
  display: flex; align-items: center; justify-content: center;
  padding: 20px;
  animation: fadeIn 0.15s ease;
}
[data-theme="light"] .modal-backdrop { background: rgba(245,240,232,0.6); }

.modal-box {
  background: var(--surface);
  border: 1px solid var(--border-2);
  border-radius: var(--r-xl);
  padding: 28px;
  width: 100%; max-width: 480px;
  max-height: 90vh; overflow-y: auto;
  box-shadow: var(--shadow-lg);
  animation: modalIn 0.25s cubic-bezier(0.34,1.56,0.64,1);
}
.modal-head {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 22px;
  font-family: var(--font-display); font-size: 18px; font-weight: 800;
}

/* ═══════════════════════════════
   PAGE HEADER
═══════════════════════════════ */
.ph { margin-bottom: 24px; }
.ph-title {
  font-family: var(--font-display);
  font-size: 28px; font-weight: 900;
  background: linear-gradient(135deg, var(--accent) 0%, var(--blue) 60%, var(--purple) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  line-height: 1.1; margin-bottom: 5px;
}
.ph-sub { font-size: 14px; color: var(--text-300); }

/* ═══════════════════════════════
   GRIDS
═══════════════════════════════ */
.g-2 { display: grid; grid-template-columns: repeat(2,1fr); gap: 16px; }
.g-3 { display: grid; grid-template-columns: repeat(3,1fr); gap: 16px; }
.g-4 { display: grid; grid-template-columns: repeat(4,1fr); gap: 16px; }

/* ═══════════════════════════════
   TX TABLE
═══════════════════════════════ */
.tx-head, .tx-row {
  display: grid;
  grid-template-columns: 2.5fr 1fr 1.2fr 1fr 80px;
  padding: 12px 20px; gap: 12px; align-items: center;
}
.tx-head {
  font-family: var(--font-display);
  font-size: 11px; font-weight: 700;
  color: var(--text-300); text-transform: uppercase;
  letter-spacing: 0.8px; border-bottom: 1px solid var(--border);
}
.tx-row {
  border-bottom: 1px solid var(--border);
  transition: background 0.15s;
  font-size: 14px;
}
.tx-row:last-child { border-bottom: none; }
.tx-row:hover { background: var(--bg-3); }
.tx-desc-wrap { display: flex; align-items: center; gap: 12px; }
.tx-icon-box {
  width: 38px; height: 38px; border-radius: 11px;
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; flex-shrink: 0; font-family: var(--font-display);
  font-weight: 900;
}
.tx-name { font-weight: 600; color: var(--text-100); font-size: 13px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.tx-date-sm { font-size: 11px; color: var(--text-300); margin-top: 1px; }
.tx-amt { font-family: var(--font-display); font-weight: 800; font-size: 14px; }
.tx-amt.pos { color: var(--accent); }
.tx-amt.neg { color: var(--red); }

/* ═══════════════════════════════
   EMPTY + LOADING
═══════════════════════════════ */
.empty {
  text-align: center; padding: 64px 20px; color: var(--text-300);
}
.empty-icon { font-size: 48px; margin-bottom: 14px; opacity: 0.5; }
.empty h3 { font-family: var(--font-display); font-size: 16px; font-weight: 700; color: var(--text-200); margin-bottom: 6px; }
.empty p { font-size: 13px; }

.spinner {
  width: 36px; height: 36px;
  border: 3px solid var(--border-2);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

/* ═══════════════════════════════
   ANIMATIONS
═══════════════════════════════ */
@keyframes fadeIn    { from{opacity:0}             to{opacity:1} }
@keyframes slideUp   { from{opacity:0;transform:translateY(18px)} to{opacity:1;transform:translateY(0)} }
@keyframes modalIn   { from{opacity:0;transform:scale(0.94) translateY(12px)} to{opacity:1;transform:scale(1) translateY(0)} }
@keyframes spin      { to{transform:rotate(360deg)} }
@keyframes pulse     { 0%,100%{opacity:1} 50%{opacity:0.45} }
@keyframes shimmer   { from{background-position:-200% center} to{background-position:200% center} }
@keyframes floatY    { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
@keyframes glowPulse { 0%,100%{box-shadow:0 0 20px var(--accent-glow)} 50%{box-shadow:0 0 40px var(--accent-glow),0 0 80px var(--accent-dim)} }

/* ═══════════════════════════════
   RESPONSIVE
═══════════════════════════════ */
@media (max-width:1100px) { .g-4 { grid-template-columns: repeat(2,1fr); } }
@media (max-width:768px)  {
  .g-2,.g-3,.g-4 { grid-template-columns: 1fr; }
  .tx-head { display: none; }
  .tx-row { grid-template-columns: 1fr auto; }
  .tx-row > *:nth-child(2), .tx-row > *:nth-child(3) { display: none; }
}